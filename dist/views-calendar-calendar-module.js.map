{"version":3,"sources":["./src/app/views/calendar/calendar.module.ts","./src/app/views/calendar/calendar-routing.module.ts","./src/app/views/calendar/calendar/calendar.component.ts","./src/app/views/calendar/calendar/calendar.component.html"],"names":[],"mappings":"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","file":"views-calendar-calendar-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CalendarModule, DateAdapter } from 'angular-calendar';\nimport { adapterFactory } from 'angular-calendar/date-adapters/date-fns';\nimport { ColorPickerModule } from 'ngx-color-picker';\n\nimport { CalendarRoutingModule } from './calendar-routing.module';\nimport { CalendarComponent } from './calendar/calendar.component';\nimport { CalendarFormDialogComponent } from './calendar-form-dialog/calendar-form-dialog.component';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    NgbModule,\n    ColorPickerModule,\n    CalendarModule.forRoot({\n      provide: DateAdapter,\n      useFactory: adapterFactory\n    }),\n    CalendarRoutingModule\n  ],\n  declarations: [CalendarComponent, CalendarFormDialogComponent]\n})\nexport class CalendarAppModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CalendarComponent } from './calendar/calendar.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CalendarComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CalendarRoutingModule { }\n","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\nimport { CalendarEvent, CalendarEventAction, CalendarEventTimesChangedEvent } from 'angular-calendar';\nimport { Subject } from 'rxjs';\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport {\n\tisSameDay,\n\tisSameMonth\n} from 'date-fns';\n\nimport { CalendarAppEvent } from 'src/app/shared/models/calendar-event.model';\nimport { CalendarAppService } from '../calendar-app.service';\nimport { CalendarFormDialogComponent } from '../calendar-form-dialog/calendar-form-dialog.component';\nimport { Utils } from 'src/app/shared/utils';\nimport { SharedAnimations } from 'src/app/shared/animations/shared-animations';\n\n@Component({\n\tselector: 'app-calendar',\n\ttemplateUrl: './calendar.component.html',\n\tstyleUrls: ['./calendar.component.scss'],\n\tanimations: [SharedAnimations]\n})\nexport class CalendarComponent implements OnInit {\n\tpublic view = 'month';\n\tpublic viewDate = new Date();\n\t@ViewChild('eventDeleteConfirm', { static: true }) eventDeleteConfirm;\n\tpublic activeDayIsOpen = true;\n\tpublic refresh: Subject<any> = new Subject();\n\tpublic events: CalendarAppEvent[];\n\tprivate actions: CalendarEventAction[];\n\n\tconstructor(\n\t\tprivate modalService: NgbModal,\n\t\tprivate calendarService: CalendarAppService,\n\t) {\n\t\tthis.actions = [{\n\t\t\tlabel: '<i class=\"i-Edit m-1 text-secondary\"></i>',\n\t\t\tonClick: ({ event }: { event: CalendarEvent }): void => {\n\t\t\t\tthis.handleEvent('edit', event);\n\t\t\t}\n\t\t}, {\n\t\t\tlabel: '<i class=\"i-Close m-1 text-danger\"></i>',\n\t\t\tonClick: ({ event }: { event: CalendarEvent }): void => {\n\t\t\t\tthis.removeEvent(event);\n\t\t\t}\n\t\t}];\n\t}\n\n\tngOnInit() {\n\t\tthis.loadEvents();\n\t}\n\n\tprivate initEvents(events): CalendarAppEvent[] {\n\t\treturn events.map(event => {\n\t\t\tevent.actions = this.actions;\n\t\t\treturn new CalendarAppEvent(event);\n\t\t});\n\t}\n\n\tpublic loadEvents() {\n\t\tthis.calendarService\n\t\t\t.getEvents()\n\t\t\t.subscribe((events: CalendarEvent[]) => {\n\t\t\t\tthis.events = this.initEvents(events);\n\t\t\t});\n\t}\n\n\tpublic removeEvent(event) {\n\t\tthis.modalService.open(this.eventDeleteConfirm, { ariaLabelledBy: 'modal-basic-title', centered: true })\n\t\t\t.result.then((result) => {\n\t\t\t\tthis.calendarService\n\t\t\t\t.deleteEvent(event._id)\n\t\t\t\t\t.subscribe(events => {\n\t\t\t\t\t\tthis.events = this.initEvents(events);\n\t\t\t\t\t\tthis.refresh.next();\n\t\t\t\t\t});\n\t\t\t}, (reason) => {\n\n\t\t\t});\n\n\t}\n\n\tpublic addEvent() {\n\t\tconst dialogRef = this.modalService.open(CalendarFormDialogComponent, {centered: true});\n\t\tdialogRef.componentInstance.data = {\n\t\t\taction: 'add',\n\t\t\tdate: new Date()\n\t\t};\n\t\tdialogRef.result\n\t\t\t.then((res) => {\n\n\t\t\t\tif (!res) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst dialogAction = res.action;\n\t\t\t\tconst responseEvent = res.event;\n\t\t\t\tresponseEvent.start = Utils.ngbDateToDate(responseEvent.start);\n\t\t\t\tresponseEvent.end = Utils.ngbDateToDate(responseEvent.end);\n\t\t\t\tthis.calendarService\n\t\t\t\t\t.addEvent(responseEvent)\n\t\t\t\t\t.subscribe(events => {\n\t\t\t\t\t\tthis.events = this.initEvents(events);\n\t\t\t\t\t\tthis.refresh.next(true);\n\t\t\t\t\t\tconsole.log(this.events);\n\n\t\t\t\t\t});\n\t\t\t}).catch(e => {\n\t\t\t\tconsole.log(e);\n\t\t\t});\n\t}\n\n\tpublic handleEvent(action: string, event: CalendarAppEvent): void {\n\t\tconst dialogRef = this.modalService.open(CalendarFormDialogComponent, {centered: true});\n\t\tdialogRef.componentInstance.data = { event, action };\n\t\tdialogRef\n\t\t\t.result\n\t\t\t.then(res => {\n\t\t\t\tif (!res) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst dialogAction = res.action;\n\t\t\t\tconst responseEvent = res.event;\n\t\t\t\tresponseEvent.start = Utils.ngbDateToDate(responseEvent.start);\n\t\t\t\tresponseEvent.end = Utils.ngbDateToDate(responseEvent.end);\n\t\t\t\tconsole.log(res);\n\t\t\t\tif (dialogAction === 'save') {\n\n\t\t\t\t\tthis.calendarService\n\t\t\t\t\t\t.updateEvent(responseEvent)\n\t\t\t\t\t\t.subscribe(events => {\n\t\t\t\t\t\t\tthis.events = this.initEvents(events);\n\t\t\t\t\t\t\tthis.refresh.next();\n\t\t\t\t\t\t\tconsole.log(this.events);\n\t\t\t\t\t\t});\n\t\t\t\t} else if (dialogAction === 'delete') {\n\t\t\t\t\tthis.removeEvent(event);\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconsole.log(e);\n\t\t\t});\n\t}\n\n\n\tpublic dayClicked({ date, events }: { date: Date, events: CalendarEvent[] }): void {\n\n\t\tif (isSameMonth(date, this.viewDate)) {\n\t\t\tif (\n\t\t\t\t(isSameDay(this.viewDate, date) && this.activeDayIsOpen === true) ||\n\t\t\t\tevents.length === 0\n\t\t\t) {\n\t\t\t\tthis.activeDayIsOpen = false;\n\t\t\t} else {\n\t\t\t\tthis.activeDayIsOpen = true;\n\t\t\t\tthis.viewDate = date;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic eventTimesChanged({ event, newStart, newEnd }: CalendarEventTimesChangedEvent): void {\n\t\tevent.start = newStart;\n\t\tevent.end = newEnd;\n\n\t\tthis.calendarService\n\t\t\t.updateEvent(event)\n\t\t\t.subscribe(events => {\n\t\t\t\tthis.events = this.initEvents(events);\n\t\t\t\tthis.refresh.next();\n\t\t\t});\n\t}\n\n}\n","<div class=\"mb-4\">\n    <button class=\"btn btn-rounded btn-primary\" (click)=\"addEvent()\">Add Event</button>\n</div>\n<div class=\"card\">\n    <div class=\"\">\n      <div class=\"p-3 d-flex justify-content-between align-items-center calendar-title\">\n        <!-- Arrow navigations -->\n        <div class=\"cal-top-col text-center\">\n          <button \n          class=\"btn btn-rounded btn-icon btn-outline-primary m-1\" \n          mwlCalendarPreviousView \n          [view]=\"view\" \n          [(viewDate)]=\"viewDate\">\n            <i class=\"i-Arrow-Left\"></i>\n          </button>\n          <button \n          class=\"btn btn-rounded btn-icon btn-primary m-1\" \n          mwlCalendarToday \n          [(viewDate)]=\"viewDate\">\n            <i class=\"i-Calendar-2\"></i>\n          </button>\n          <button \n          class=\"btn btn-rounded btn-icon btn-outline-primary m-1\" \n          mwlCalendarNextView \n          [view]=\"view\" \n          [(viewDate)]=\"viewDate\">\n            <i class=\"i-Arrow-Right\"></i>\n          </button>\n        </div>\n  \n        <!-- Date title -->\n        <div class=\" text-center\">\n          <h5 class=\"m-0 text-muted font-weight-bold\">{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h5>\n        </div>\n  \n        <!-- Month, day, week view toggle buttons -->\n        <div class=\"d-flex justify-content-center\">\n          <button \n          class=\"btn btn-rounded btn-icon btn-primary m-1\" \n          (click)=\"view = 'month'\" \n          [class.active]=\"view === 'month'\"\n          ngbTooltip=\"Month view\">\n            <i class=\"i-Calendar\"></i>\n          </button>\n          <button \n          class=\"btn btn-rounded btn-icon btn-primary m-1\" \n          (click)=\"view = 'week'\" \n          [class.active]=\"view === 'week'\"\n          ngbTooltip=\"Week view\">\n            <i class=\"i-Split-Vertical-2\"></i>\n          </button>\n          <button  \n          class=\"btn btn-rounded btn-icon btn-primary m-1\" \n          (click)=\"view = 'day'\" \n          [class.active]=\"view === 'day'\"\n          ngbTooltip=\"Day view\">\n            <i class=\"i-Align-Justify-All\"></i>\n          </button>\n        </div>\n      </div>\n      <!-- <mat-divider></mat-divider> -->\n    </div>\n  \n    <!-- Calendar -->\n    <div class=\"p-0\">\n      <div [ngSwitch]=\"view\">\n        <mwl-calendar-month-view\n          *ngSwitchCase=\"'month'\"\n          [viewDate]=\"viewDate\"\n          [events]=\"events\"\n          [refresh]=\"refresh\"\n          [activeDayIsOpen]=\"activeDayIsOpen\"\n          (dayClicked)=\"dayClicked($event.day)\"\n          (eventClicked)=\"handleEvent('edit', $event.event)\"\n          (eventTimesChanged)=\"eventTimesChanged($event)\">\n        </mwl-calendar-month-view>\n        <mwl-calendar-week-view\n          *ngSwitchCase=\"'week'\"\n          [viewDate]=\"viewDate\"\n          [events]=\"events\"\n          [refresh]=\"refresh\"\n          (eventClicked)=\"handleEvent('edit', $event.event)\"\n          (eventTimesChanged)=\"eventTimesChanged($event)\">\n        </mwl-calendar-week-view>\n        <mwl-calendar-day-view\n          *ngSwitchCase=\"'day'\"\n          [viewDate]=\"viewDate\"\n          [events]=\"events\"\n          [refresh]=\"refresh\"\n          (eventClicked)=\"handleEvent('edit', $event.event)\"\n          (eventTimesChanged)=\"eventTimesChanged($event)\">\n        </mwl-calendar-day-view>\n      </div>\n    </div>\n  </div>\n\n  <ng-template #eventDeleteConfirm let-modal>\n    <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-title\">Delete Event?</h4>\n      <button type=\"button\" class=\"close\" aria-label=\"Close button\" aria-describedby=\"modal-title\" (click)=\"modal.dismiss('Cross click')\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    \n    <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-rounded btn-outline-secondary\" (click)=\"modal.dismiss('cancel')\">No</button>\n      <button type=\"button\" ngbAutofocus class=\"btn btn-rounded btn-danger\" (click)=\"modal.close('Ok')\">Yes</button>\n    </div>\n</ng-template>"],"sourceRoot":"webpack:///"}